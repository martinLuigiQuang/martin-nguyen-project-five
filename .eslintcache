[{"F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\index.js":"1","F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\firebase.js":"2","F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\Footer.js":"3","F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\Calendar.js":"4","F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\EventDisplay.js":"5","F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\App.js":"6"},{"size":517,"mtime":1606710076976,"results":"7","hashOfConfig":"8"},{"size":585,"mtime":1606710076968,"results":"9","hashOfConfig":"8"},{"size":152,"mtime":1606710076896,"results":"10","hashOfConfig":"8"},{"size":7096,"mtime":1606751202604,"results":"11","hashOfConfig":"8"},{"size":3320,"mtime":1606765427160,"results":"12","hashOfConfig":"8"},{"size":2055,"mtime":1606757996573,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"gobt48",{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\index.js",[],"F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\firebase.js",[],"F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\Footer.js",[],"F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\Calendar.js",["27"],"F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\EventDisplay.js",["28"],"import { Component } from 'react';\r\nimport stockImage from './assets/medieval2.jpg'\r\nimport axios from 'axios';\r\n\r\nclass EventDisplay extends Component {\r\n    constructor() {\r\n        super();\r\n        this.events = [];\r\n        this.images = [];\r\n        this.proxyUrl = `https://cors-anywhere.herokuapp.com/`;\r\n        this.state = {\r\n            events: [],\r\n            images: []\r\n        }\r\n    }\r\n\r\n    convertYear(year) {\r\n        if (year > 0) {\r\n            year = year + ' CE';\r\n        } else if (year < 0) {\r\n            year = year + ' BCE';\r\n        } else {\r\n            year = 'Year 0';\r\n        }\r\n        return year;\r\n    }\r\n\r\n    imageApiCall(event) {\r\n        axios({\r\n            url: `${this.proxyUrl}https://en.wikipedia.org/w/api.php`,\r\n            method: `GET`,\r\n            responseType: `json`,\r\n            params: {\r\n                action: \"query\",\r\n                prop: \"images\",\r\n                titles: event.links[2]['title'],\r\n                format: \"json\",\r\n                formatversion: '2'\r\n            }\r\n        }).then((response) => {\r\n            const wikipediaImageFileName = response.data.query.pages[0]['images'][0]['title'];\r\n            this.imageSrcApiCall(event.year, wikipediaImageFileName);\r\n        }).catch( err => err );\r\n    }\r\n    imageSrcApiCall(year, filename) {\r\n        axios({\r\n            url: `${this.proxyUrl}https://en.wikipedia.org/w/api.php`,\r\n            method: 'GET',\r\n            responseType: 'json',\r\n            params: {\r\n                action: 'query',\r\n                format: 'json',\r\n                prop: 'imageinfo',\r\n                iiprop: 'url',\r\n                titles: filename\r\n            }\r\n        }).then((response) => {\r\n            const imageUrl = response.data.query.pages[-1].imageinfo[0].url;\r\n            const imageUrlObj = {\r\n                year: year,\r\n                url: imageUrl\r\n            }\r\n            this.images.push(imageUrlObj);\r\n            this.setState({\r\n                images: this.images\r\n            });\r\n        }).catch( err => err );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            events: this.props.events\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.events !== this.props.events) {\r\n            this.events = this.props.events;\r\n            this.setState({\r\n                events: this.props.events\r\n            })\r\n            this.events.forEach((event) => {\r\n                this.imageApiCall(event);\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.state.events.map( (event, index) => {\r\n                const { text, year } = event;\r\n                let imageUrl = this.state.images[0];\r\n                console.log(this.state.images[0])\r\n                const altText = '';\r\n                const historicalYear = this.convertYear(year);\r\n                return (\r\n                    <div key={index} className=\"event\">\r\n                        <img src={imageUrl} alt={altText} />\r\n                        <div className=\"eventDescription\">\r\n                            <h3>{historicalYear}</h3>\r\n                            <p>{text}</p>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n        )\r\n    }\r\n}\r\n\r\nexport default EventDisplay;","F:\\Bootcamp Projects\\martin-nguyen-project-five\\src\\App.js",["29"],{"ruleId":"30","severity":1,"message":"31","line":4,"column":8,"nodeType":"32","messageId":"33","endLine":4,"endColumn":12},{"ruleId":"30","severity":1,"message":"34","line":2,"column":8,"nodeType":"32","messageId":"33","endLine":2,"endColumn":18},{"ruleId":"30","severity":1,"message":"35","line":37,"column":7,"nodeType":"32","messageId":"33","endLine":37,"endColumn":22},"no-unused-vars","'wing' is defined but never used.","Identifier","unusedVar","'stockImage' is defined but never used.","'firebaseDataObj' is assigned a value but never used."]