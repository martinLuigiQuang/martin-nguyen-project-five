(this["webpackJsonpmartin-nguyen-project-five"]=this["webpackJsonpmartin-nguyen-project-five"]||[]).push([[0],{30:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(4),c=n.n(s),r=n(24),i=n.n(r),o=(n(30),n(8)),h=n(9),l=n(11),u=n(10),d=n(14);n(32);d.a.initializeApp({apiKey:"AIzaSyBPC2a8fvEGb0ztOU98Hnfxe_aug25_28I",authDomain:"this-day-in-history-4b697.firebaseapp.com",databaseURL:"https://this-day-in-history-4b697.firebaseio.com",projectId:"this-day-in-history-4b697",storageBucket:"this-day-in-history-4b697.appspot.com",messagingSenderId:"51185937480",appId:"1:51185937480:web:f6c2702a51f3b9ce7abc7d"});var v=d.a,p=n(13),j=n.n(p),b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y=n.p+"static/media/baroqueFloral.45df6847.png",m=(n.p,function(e){var t=e.date,n=b[t.getMonth()],s=t.getDate();return Object(a.jsxs)("header",{children:[Object(a.jsx)("img",{src:y,alt:"Baroque Floral Motif",className:"firstPiece"}),Object(a.jsx)("img",{src:y,alt:"Baroque Floral Motif",className:"secondPiece"}),Object(a.jsxs)("h3",{children:[n," ",s]}),Object(a.jsx)("h1",{children:"In History"})]})}),k=n.p+"static/media/arrow.ccd9f4d0.png",x=n.p+"static/media/eyeOfHorus.da01216a.jpg",g=n.p+"static/media/parchment.d140b6ec.png",O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={today:new Date,calendarDate:new Date,userClicked:!1,checkbox:!1,chosenDate:new Date,daysInAWeek:f,savedDates:[],monthCalendar:[]},e}return Object(h.a)(n,[{key:"fillCalendar",value:function(e){for(var t=e.getFullYear(),n=e.getMonth(),a=new Date(t,n,1).getDay(),s=new Date(t,n+1,0).getDate(),c=this.getMaxNumberOfDays(a,s),r=1,i=[],o=0;o<c;o++)o<a||o>=a+s?i.push(""):(i.push(this.toString(r)),r++);return i}},{key:"toString",value:function(e){return e=e<10?"0"+e:""+e}},{key:"getMaxNumberOfDays",value:function(e,t){var n=35;return e+t>35?n=42:e+t===28&&(n=28),n}},{key:"displayDayInAWeek",value:function(e){var t=e;return window.outerWidth<500&&(t=e.charAt(0)),Object(a.jsx)("li",{children:t},e)}},{key:"checkToday",value:function(e,t){return e.getFullYear()===this.state.today.getFullYear()&&e.getMonth()===this.state.today.getMonth()&&parseInt(t)===this.state.today.getDate()}},{key:"calendarEntry",value:function(e,t,n,s){return Object(a.jsxs)("li",{className:"dayInMonth ".concat(n),onClick:s,children:[Object(a.jsx)("span",{children:e.charAt(0)}),Object(a.jsx)("span",{children:e.charAt(1)})]},t)}},{key:"getUserChosenDate",value:function(e,t,n){var a=new Date(e,t,n);this.setState({userClicked:!0,checkbox:!this.state.checkbox,chosenDate:a})}},{key:"nextMonth",value:function(e,t){++t>11&&(t=0,e++);var n=new Date(e,t);this.setState({calendarDate:n,monthCalendar:this.fillCalendar(n)})}},{key:"previousMonth",value:function(e,t){--t<0&&(t=11,e--);var n=new Date(e,t);this.setState({calendarDate:n,monthCalendar:this.fillCalendar(n)})}},{key:"uncheckCheckbox",value:function(){this.state.checkbox&&this.setState({checkbox:!this.state.checkbox})}},{key:"reset",value:function(){this.setState({calendarDate:this.state.today,monthCalendar:this.fillCalendar(this.state.today)})}},{key:"componentDidMount",value:function(){this.setState({monthCalendar:this.fillCalendar(this.state.today)})}},{key:"componentDidUpdate",value:function(){this.uncheckCheckbox(),this.state.userClicked&&(this.props.onChange(this.state.chosenDate,this.state.userClicked),this.setState({userClicked:!1}))}},{key:"renderCheckbox",value:function(){var e=this;return this.state.checkbox?Object(a.jsx)("input",{type:"checkbox",name:"calendar",id:"calendar",checked:!0,onClick:function(){return e.reset()}}):Object(a.jsx)("input",{type:"checkbox",name:"calendar",id:"calendar",onClick:function(){return e.reset()}})}},{key:"render",value:function(){var e=this,t=(this.state.today,this.state.calendarDate),n=t.getFullYear(),s=t.getMonth();return Object(a.jsxs)("div",{className:"calendar",children:[Object(a.jsx)("label",{htmlFor:"calendar",className:"srOnly",children:"Choose a day"}),this.renderCheckbox(),Object(a.jsx)("div",{className:"calendarIcon",children:Object(a.jsx)("img",{src:x,alt:"select a date"})}),Object(a.jsx)("img",{src:g,alt:"parchment background",className:"parchment hidden"}),Object(a.jsxs)("div",{className:"calendarNav hidden",children:[Object(a.jsx)("img",{src:k,alt:"previous month",className:"leftArrow",onClick:function(){return e.previousMonth(n,s)}}),Object(a.jsx)("h3",{children:b[s]+" "+n}),Object(a.jsx)("img",{src:k,alt:"previous month",className:"rightArrow",onClick:function(){return e.nextMonth(n,s)}})]}),Object(a.jsxs)("div",{className:"calendarDisplay hidden",children:[this.state.daysInAWeek.map((function(t){return e.displayDayInAWeek(t)})),this.state.monthCalendar.map((function(a,c){var r=e.calendarEntry(a,c,"",(function(){return e.getUserChosenDate(n,s,a)}));return""===a?r=e.calendarEntry(a,c,""):e.checkToday(t,a)&&(r=e.calendarEntry(a,c,"today",(function(){return e.getUserChosenDate(n,s,a)}))),r}))]})]})}}]),n}(s.Component),C=n.p+"static/media/medieval2.35076ef2.jpg",D=n.p+"static/media/wing.4e18489d.png",N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).events=[],e.images=[],e.proxyUrl="https://cors-anywhere.herokuapp.com/",e.state={events:[],images:[],userInput:0},e}return Object(h.a)(n,[{key:"convertYear",value:function(e){return e>0?e+=" CE":e<0?e+=" BCE":e="Year 0",e}},{key:"renderEventNav",value:function(){var e=this;return Object(a.jsxs)("div",{className:"eventNav",children:[Object(a.jsx)("img",{src:D,alt:"previous event",className:"previousEvent",onClick:function(){return e.changeEvent(-1)}}),Object(a.jsx)("img",{src:D,alt:"next event",className:"nextEvent",onClick:function(){return e.changeEvent(1)}})]})}},{key:"changeEvent",value:function(e){this.setState({userInput:e})}},{key:"componentDidMount",value:function(){this.setState({events:this.props.events})}},{key:"componentDidUpdate",value:function(){this.events!==this.props.events&&(this.events=this.props.events,this.setState({events:this.props.events})),this.state.userInput&&(this.props.onChange(this.state.userInput),this.setState({userInput:0}))}},{key:"render",value:function(){var e=this;return this.state.events.map((function(t,n){var s=t.text,c=t.year,r=s;"]"===s.charAt(s.length-1)&&(r=s.slice(0,s.length-3));var i=C,o=e.convertYear(c);return Object(a.jsxs)("div",{className:"event",children:[Object(a.jsx)("img",{src:i,alt:""}),Object(a.jsxs)("div",{className:"eventDescription",children:[Object(a.jsx)("h3",{children:o}),Object(a.jsx)("p",{children:r})]}),e.renderEventNav()]},n)}))}}]),n}(s.Component),I=function(){return Object(a.jsx)("footer",{children:Object(a.jsx)("p",{children:"Created at Juno College"})})},w=(n(51),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).proxyUrl="https://cors-anywhere.herokuapp.com/",e.state={today:new Date,chosenDate:new Date,userClicked:!1,eventIndex:1,events:[],favourites:[]},e}return Object(h.a)(n,[{key:"setUserChosenDate",value:function(e,t){this.setState({chosenDate:e,userClicked:t,eventIndex:1})}},{key:"getNewEvent",value:function(e){var t=this.state.eventIndex+e;t<1?t=1:t>this.state.events.length&&(t=this.state.events.length),this.setState({eventIndex:t})}},{key:"setUpDataBase",value:function(){v.database().ref().on("value",(function(e){e.val()}))}},{key:"apiCall",value:function(){var e=this;j()({url:"".concat(this.proxyUrl,"http://history.muffinlabs.com/date/").concat(this.state.chosenDate.getMonth()+1,"/").concat(this.state.chosenDate.getDate()),method:"GET",responseType:"json"}).then((function(t){e.setState({events:t.data.data.Events})}))}},{key:"componentDidMount",value:function(){this.setUpDataBase(),this.apiCall()}},{key:"componentDidUpdate",value:function(){this.state.userClicked&&(this.apiCall(),this.setState({userClicked:!1}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(m,{date:this.state.chosenDate}),Object(a.jsxs)("section",{className:"eventDisplay",children:[Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)(N,{events:this.state.events.slice(this.state.eventIndex-1,this.state.eventIndex),onChange:function(t){return e.getNewEvent(t)}})})," "]})," ",Object(a.jsx)(O,{onChange:function(t,n){return e.setUserChosenDate(t,n)}}),Object(a.jsx)(I,{})]})}}]),n}(s.Component)),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),S()}},[[52,1,2]]]);
//# sourceMappingURL=main.95997b83.chunk.js.map